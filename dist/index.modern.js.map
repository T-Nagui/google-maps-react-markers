{"version":3,"file":"index.modern.js","sources":["../src/hooks/useScript.js","../src/hooks/useGoogleMaps.js","../src/utils/utils.js","../src/hooks/useMemoCompare.js","../src/map/overlay.js","../src/map/overlay-view.js","../src/map/markers.js","../src/map/map.js","../src/google-map.js"],"sourcesContent":["/* eslint-disable no-unused-expressions */\r\nimport { useState, useEffect } from 'react'\r\n\r\n/**\r\n * @description Hook to load external script.\r\n * @param {Object} script - Script to load.\r\n * @param {string} script.src - Script source.\r\n * @param {Object} [script.attributes] - Attributes to add to the script tag.\r\n * @param {Object} [script.callbacks] - Callbacks executed on completion.\r\n * @param {Function} [script.callbacks.onLoadCallback] - Callback executed on completion in case of success.\r\n * @param {Function} [script.callbacks.onErrorCallback] - Callbacks executed on completion in case of error.\r\n * @param {string} [script.elementIdToAppend] - HTML element id to append the script to. Default is HTML HEAD.\r\n * @returns {\"idle\" | \"loading\" | \"ready\" | \"error\"} status\r\n *\r\n * @example\r\n * const status = useScript({\r\n * \t\tsrc: \"https://script-to-load.js\",\r\n * \t\tattributes: { id: \"scriptId\", class: \"script-class\" },\r\n * \t\tcallbacks: {\r\n * \t\t\tonLoadCallback: onLoadFunc,\r\n * \t\t\tonErrorCallback: onErrorFunc,\r\n * \t\t},\r\n * \t\telementIdToAppend: \"script-container\"\r\n * })\r\n */\r\n\r\nexport const useScript = (\r\n\tscript = {\r\n\t\tsrc: '',\r\n\t\tattributes: {},\r\n\t\tcallbacks: { onLoadCallback: null, onErrorCallback: null },\r\n\t\telementIdToAppend: null,\r\n\t}\r\n) => {\r\n\t// Keep track of script status (\"idle\", \"loading\", \"ready\", \"error\")\r\n\tconst [status, setStatus] = useState(script.src ? 'loading' : 'idle')\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\t// Allow falsy src value if waiting on other data needed for\r\n\t\t\t// constructing the script URL passed to this hook.\r\n\t\t\tif (!script.src) {\r\n\t\t\t\tsetStatus('idle')\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t// Fetch existing script element by src\r\n\t\t\t// It may have been added by another instance of this hook\r\n\t\t\tlet scriptToAdd = document.querySelector(`script[src=\"${script.src}\"]`)\r\n\t\t\tif (!scriptToAdd) {\r\n\t\t\t\t// Create script\r\n\t\t\t\tscriptToAdd = document.createElement('script')\r\n\t\t\t\tscriptToAdd.src = script.src\r\n\t\t\t\tscriptToAdd.async = true\r\n\t\t\t\tscriptToAdd.setAttribute('data-status', 'loading')\r\n\t\t\t\t// Add other script attributes, if they exist\r\n\t\t\t\tscript.attributes && Object.entries(script.attributes).length > 0\r\n\t\t\t\t\t? Object.entries(script.attributes).map(([key, value]) => scriptToAdd.setAttribute(key, value))\r\n\t\t\t\t\t: null\r\n\t\t\t\t// Add script to document body\r\n\t\t\t\tif (script.elementIdToAppend && document.getElementById(script.elementIdToAppend)) {\r\n\t\t\t\t\tdocument.getElementById(script.elementIdToAppend).appendChild(scriptToAdd)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdocument.body.appendChild(scriptToAdd)\r\n\t\t\t\t}\r\n\t\t\t\t// Store status in attribute on script\r\n\t\t\t\t// This can be read by other instances of this hook\r\n\t\t\t\tconst setAttributeFromEvent = (event) => {\r\n\t\t\t\t\tscriptToAdd.setAttribute('data-status', event.type === 'load' ? 'ready' : 'error')\r\n\t\t\t\t}\r\n\t\t\t\tscriptToAdd.addEventListener('load', setAttributeFromEvent)\r\n\t\t\t\tscriptToAdd.addEventListener('error', setAttributeFromEvent)\r\n\t\t\t} else {\r\n\t\t\t\t// Grab existing script status from attribute and set to state.\r\n\t\t\t\tconst currentScriptStatus = scriptToAdd.getAttribute('data-status')\r\n\t\t\t\tswitch (currentScriptStatus) {\r\n\t\t\t\t\tcase 'load':\r\n\t\t\t\t\tcase 'ready':\r\n\t\t\t\t\t\tscript.callbacks?.onLoadCallback ? script.callbacks.onLoadCallback() : null\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'error':\r\n\t\t\t\t\t\tscript.callbacks?.onErrorCallback ? script.callbacks.onErrorCallback() : null\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t// loading: do nothing\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tsetStatus(currentScriptStatus)\r\n\t\t\t}\r\n\t\t\t// Script event handler to update status in state\r\n\t\t\t// Note: Even if the script already exists we still need to add\r\n\t\t\t// event handlers to update the state for this hook instance.\r\n\t\t\tconst setStateFromEvent = (event) => {\r\n\t\t\t\tevent.type === 'load'\r\n\t\t\t\t\t? script.callbacks?.onLoadCallback\r\n\t\t\t\t\t\t? script.callbacks.onLoadCallback()\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t\t: script.callbacks?.onErrorCallback\r\n\t\t\t\t\t? script.callbacks.onErrorCallback()\r\n\t\t\t\t\t: null\r\n\t\t\t\tsetStatus(event.type === 'load' ? 'ready' : 'error')\r\n\t\t\t}\r\n\t\t\t// Add event listeners\r\n\t\t\tscriptToAdd.addEventListener('load', setStateFromEvent)\r\n\t\t\tscriptToAdd.addEventListener('error', setStateFromEvent)\r\n\t\t\t// Remove event listeners on cleanup\r\n\t\t\treturn () => {\r\n\t\t\t\tif (scriptToAdd) {\r\n\t\t\t\t\tscriptToAdd.removeEventListener('load', setStateFromEvent)\r\n\t\t\t\t\tscriptToAdd.removeEventListener('error', setStateFromEvent)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Re-run useEffect if script changes\r\n\t\t[script]\r\n\t)\r\n\treturn status\r\n}\r\n","import { useScript } from \"./useScript\";\r\n\r\n/**\r\n * @returns {\"idle\" | \"loading\" | \"ready\" | \"error\"} status\r\n */\r\nexport const useGoogleMaps = ({ apiKey, libraries = [] }) => {\r\n\tconst script = apiKey\r\n\t\t? {\r\n\t\t\t\tsrc: `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=${libraries?.join(\",\")}`,\r\n\t\t\t\tattributes: { id: \"googleMapsApi\" },\r\n\t\t  }\r\n\t\t: {\r\n\t\t\t\tsrc: `https://maps.googleapis.com/maps/api/js?libraries=${libraries?.join(\",\")}`,\r\n\t\t\t\tattributes: { id: \"googleMapsApi\" },\r\n\t\t};\r\n\r\n\treturn useScript(script);\r\n};\r\n","export const isArraysEqualEps = (arrayA, arrayB, eps) => {\r\n\tif (arrayA && arrayB) {\r\n\t\tfor (let i = 0; i !== arrayA.length; ++i) {\r\n\t\t\tif (Math.abs(arrayA[i] - arrayB[i]) > eps) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\treturn false\r\n}\r\n","import { useEffect, useRef } from 'react'\r\n\r\n/**\r\n * A hook that compares the previous and current values of a reference.\r\n * @param {any} value - the current value of the reference\r\n * @param {function} compare - a function that compares the previous and current values\r\n * @returns {any} the previous value of the reference\r\n * @ref https://usehooks.com/useMemoCompare/\r\n */\r\nconst useMemoCompare = (next, compare) => {\r\n\t// Ref for storing previous value\r\n\tconst previousRef = useRef()\r\n\tconst previous = previousRef.current\r\n\t// Pass previous and next value to compare function\r\n\t// to determine whether to consider them equal.\r\n\tconst isEqual = compare(previous, next)\r\n\t// If not equal update previousRef to next value.\r\n\t// We only update if not equal so that this hook continues to return\r\n\t// the same old value if compare keeps returning true.\r\n\tuseEffect(() => {\r\n\t\tif (!isEqual) {\r\n\t\t\tpreviousRef.current = next\r\n\t\t}\r\n\t})\r\n\t// Finally, if equal then return the previous value\r\n\treturn isEqual ? previous : next\r\n}\r\n\r\nexport default useMemoCompare\r\n","import { element, number, object, shape, string } from 'prop-types'\r\n\r\n/**\r\n * @param {HTMLElement} container\r\n * @param {google.maps.MapPanes} pane\r\n * @param {google.maps.LatLng | google.maps.LatLngLiteral} position\r\n * @param {google.maps} maps\r\n * @returns {void}\r\n */\r\nconst createOverlay = ({ container, pane, position, maps }) => {\r\n\tclass Overlay extends maps.OverlayView {\r\n\t\tconstructor(container, pane, position) {\r\n\t\t\tsuper()\r\n\t\t\tthis.container = container\r\n\t\t\tthis.pane = pane\r\n\t\t\tthis.position = position\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * onAdd is called when the map's panes are ready and the overlay has been\r\n\t\t * added to the map.\r\n\t\t */\r\n\t\tonAdd = () => {\r\n\t\t\t// Add the element to the pane.\r\n\t\t\tconst pane = this.getPanes()[this.pane]\r\n\t\t\tpane?.classList.add('google-map-markers-overlay')\r\n\t\t\tpane?.appendChild(this.container)\r\n\t\t}\r\n\r\n\t\tdraw = () => {\r\n\t\t\tconst projection = this.getProjection()\r\n\t\t\t// Computes the pixel coordinates of the given geographical location in the DOM element that holds the draggable map.\r\n\t\t\tconst point = projection.fromLatLngToDivPixel(this.position)\r\n\t\t\tif (point === null) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t// this.container.style.transform = `translate(${Math.ceil(point.x)}px, ${Math.ceil(point.y)}px)`\r\n\t\t\tthis.container.style.top = point.y + 'px'\r\n\t\t\tthis.container.style.left = point.x + 'px'\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * The onRemove() method will be called automatically from the API if\r\n\t\t * we ever set the overlay's map property to 'null'.\r\n\t\t */\r\n\t\tonRemove = () => {\r\n\t\t\tif (this.container.parentNode !== null) {\r\n\t\t\t\tthis.container.parentNode.removeChild(this.container)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn new Overlay(container, pane, position)\r\n}\r\n\r\ncreateOverlay.propTypes = {\r\n\t/**\r\n\t * The HTML container element for the overlay.\r\n\t */\r\n\tcontainer: element.isRequired,\r\n\t/**\r\n\t * The HTML container element for the overlay.\r\n\t * @ref [MapPanes](https://developers.google.com/maps/documentation/javascript/reference/overlay-view#MapPanes)\r\n\t * @default 'floatPane'\r\n\t * @type {google.maps.MapPanes}\r\n\t * @required\r\n\t */\r\n\tpane: string.isRequired,\r\n\t/**\r\n\t * The geographical location of the overlay.\r\n\t * @type {google.maps.LatLng | google.maps.LatLngLiteral}\r\n\t * @required\r\n\t * @ref [LatLng](https://developers.google.com/maps/documentation/javascript/reference/coordinates#LatLng)\r\n\t */\r\n\tposition: shape({\r\n\t\tlat: number.isRequired,\r\n\t\tlng: number.isRequired,\r\n\t}).isRequired,\r\n\t/**\r\n\t * The Google Maps API.\r\n\t */\r\n\tmaps: object.isRequired,\r\n}\r\n\r\nexport default createOverlay\r\n","import { node, number, object, shape, string } from 'prop-types'\r\nimport { useEffect, useMemo } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport useMemoCompare from '../hooks/useMemoCompare'\r\nimport createOverlay from './overlay'\r\n\r\n/**\r\n * @param {HTMLElement} container\r\n * @param {google.maps.MapPanes} pane - The pane on which to display the overlay. This is the Pane name, not the Pane itself. Defaults to floatPane.\r\n * @param {google.maps.LatLng | google.maps.LatLngLiteral} position\r\n * @returns {void}\r\n * @ref [MapPanes](https://developers.google.com/maps/documentation/javascript/reference/overlay-view#MapPanes)\r\n */\r\nconst OverlayView = ({ position, pane = 'floatPane', map, maps, zIndex, children }) => {\r\n\tconst container = useMemo(() => {\r\n\t\t// eslint-disable-next-line no-undef\r\n\t\tconst div = document.createElement('div')\r\n\t\tdiv.style.position = 'absolute'\r\n\t\treturn div\r\n\t}, [])\r\n\r\n\tconst overlay = useMemo(() => {\r\n\t\treturn createOverlay({ container, pane, position, maps })\r\n\t}, [container, maps, pane, position])\r\n\r\n\t// Because React does not do deep comparisons, a custom hook is used.\r\n\t// This fixes the issue where the overlay is not updated when the position changes.\r\n\tconst childrenProps = useMemoCompare(children?.props, (prev, next) => {\r\n\t\treturn prev && prev.lat === next.lat && prev.lng === next.lng\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!overlay.map) {\r\n\t\t\toverlay?.setMap(map)\r\n\t\t\treturn () => {\r\n\t\t\t\toverlay?.setMap(null)\r\n\t\t\t}\r\n\t\t}\r\n\t\t// overlay depends on map, so we don't need to add it to the dependency array\r\n\t\t// otherwise, it will re-render the overlay every time the map changes\r\n\t\t//? added childrenProps to the dependency array to re-render the overlay when the children props change.\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [map, childrenProps])\r\n\r\n\t// to move the container to the foreground and background\r\n\tuseEffect(() => {\r\n\t\tcontainer.style.zIndex = `${zIndex}`\r\n\t}, [zIndex, container])\r\n\r\n\treturn createPortal(children, container)\r\n}\r\n\r\nOverlayView.defaultProps = {\r\n\tzIndex: 0,\r\n}\r\n\r\nOverlayView.propTypes = {\r\n\t/**\r\n\t * The HTML container element for the overlay.\r\n\t * @ref [MapPanes](https://developers.google.com/maps/documentation/javascript/reference/overlay-view#MapPanes)\r\n\t * @default 'floatPane'\r\n\t * @type {google.maps.MapPanes}\r\n\t */\r\n\tpane: string,\r\n\t/**\r\n\t * The geographical location of the overlay.\r\n\t * @type {google.maps.LatLng | google.maps.LatLngLiteral}\r\n\t * @required\r\n\t * @ref [LatLng](https://developers.google.com/maps/documentation/javascript/reference/coordinates#LatLng)\r\n\t */\r\n\tposition: shape({\r\n\t\tlat: number.isRequired,\r\n\t\tlng: number.isRequired,\r\n\t}).isRequired,\r\n\t/**\r\n\t * The map on which to display the overlay.\r\n\t * @type {google.maps.Map}\r\n\t * @required\r\n\t * @ref [Map](https://developers.google.com/maps/documentation/javascript/reference/map#Map)\r\n\t */\r\n\tmap: object.isRequired,\r\n\t/**\r\n\t * The Google Maps API.\r\n\t * @type {object}\r\n\t * @required\r\n\t * @ref [Google Maps API](https://developers.google.com/maps/documentation/javascript/reference)\r\n\t */\r\n\tmaps: object.isRequired,\r\n\t/**\r\n\t * The z-index of the overlay.\r\n\t * @type {number}\r\n\t * @default 0\r\n\t */\r\n\tzIndex: number,\r\n\t/**\r\n\t * The children of the OverlayView.\r\n\t * @type {ReactNode}\r\n\t * @required\r\n\t * @ref [ReactNode](https://reactjs.org/docs/react-api.html#reactnode)\r\n\t */\r\n\tchildren: node.isRequired,\r\n}\r\n\r\nexport default OverlayView\r\n","import { node, object } from 'prop-types'\r\nimport React, { Children, isValidElement, useMemo } from 'react'\r\nimport OverlayView from './overlay-view'\r\n\r\nconst MapMarkers = ({ children, map, maps }) => {\r\n\tconst markers = useMemo(() => {\r\n\t\tif (!map || !maps) return []\r\n\r\n\t\treturn Children.map(children, (child) => {\r\n\t\t\tif (isValidElement(child)) {\r\n\t\t\t\tconst latLng = { lat: child.props.lat, lng: child.props.lng }\r\n\t\t\t\tconst zIndex = child.props.zIndex || undefined\r\n\r\n\t\t\t\t// set the map prop on the child component\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<OverlayView position={latLng} map={map} maps={maps} zIndex={zIndex}>\r\n\t\t\t\t\t\t{child}\r\n\t\t\t\t\t</OverlayView>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t})\r\n\t}, [children, map, maps])\r\n\r\n\treturn <div>{markers}</div>\r\n}\r\n\r\nMapMarkers.propTypes = {\r\n\t/**\r\n\t * The Markers on the Map.\r\n\t * @type {ReactNode}\r\n\t * @required\r\n\t */\r\n\tchildren: node.isRequired,\r\n\t/**\r\n\t * The Google Maps instance.\r\n\t * @type {object}\r\n\t * @required\r\n\t */\r\n\tmap: object,\r\n\t/**\r\n\t * The Google Maps API.\r\n\t * @type {object}\r\n\t * @required\r\n\t */\r\n\tmaps: object.isRequired,\r\n}\r\n\r\nexport default MapMarkers\r\n","import { arrayOf, func, node, number, object, oneOfType } from 'prop-types'\r\nimport React, { useCallback, useEffect, useRef, useState } from 'react'\r\nimport { isArraysEqualEps } from '../utils/utils'\r\nimport MapMarkers from './markers'\r\n\r\nconst EPS = 0.00001\r\n\r\nconst MapComponent = ({ children, style, defaultCenter, defaultZoom, onGoogleApiLoaded, onChange, options }) => {\r\n\tconst mapRef = useRef(null)\r\n\tconst prevBoundsRef = useRef(null)\r\n\tconst [map, setMap] = useState(null)\r\n\tconst [maps, setMaps] = useState(null)\r\n\tconst [googleApiCalled, setGoogleApiCalled] = useState(false)\r\n\r\n\tconst onIdle = useCallback(() => {\r\n\t\tconst zoom = map.getZoom()\r\n\t\tconst bounds = map.getBounds()\r\n\t\tconst centerLatLng = map.getCenter()\r\n\r\n\t\tconst ne = bounds.getNorthEast()\r\n\t\tconst sw = bounds.getSouthWest()\r\n\t\tconst boundsArray = [sw.lng(), sw.lat(), ne.lng(), ne.lat()]\r\n\r\n\t\tif (!isArraysEqualEps(boundsArray, prevBoundsRef.current, EPS)) {\r\n\t\t\tif (onChange) {\r\n\t\t\t\tonChange({\r\n\t\t\t\t\tzoom,\r\n\t\t\t\t\tcenter: [centerLatLng.lng(), centerLatLng.lat()],\r\n\t\t\t\t\tbounds,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tprevBoundsRef.current = boundsArray\r\n\t\t}\r\n\t}, [map, onChange])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (mapRef.current && !map) {\r\n\t\t\tsetMap(\r\n\t\t\t\tnew window.google.maps.Map(mapRef.current, {\r\n\t\t\t\t\tcenter: defaultCenter,\r\n\t\t\t\t\tzoom: defaultZoom,\r\n\t\t\t\t\t...options,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\tsetMaps(window.google.maps)\r\n\t\t}\r\n\t}, [defaultCenter, defaultZoom, map, mapRef, options])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (map) {\r\n\t\t\tif (!googleApiCalled) {\r\n\t\t\t\tonGoogleApiLoaded({ map, maps, ref: mapRef.current })\r\n\t\t\t\tsetGoogleApiCalled(true)\r\n\t\t\t}\r\n\r\n\t\t\twindow.google.maps.event.clearListeners(map, 'idle')\r\n\t\t\t// Idle event is fired when the map becomes idle after panning or zooming.\r\n\t\t\twindow.google.maps.event.addListener(map, 'idle', onIdle)\r\n\t\t}\r\n\t}, [googleApiCalled, map, maps, onChange, onGoogleApiLoaded, onIdle])\r\n\r\n\tuseEffect(() => {\r\n\t\t// clear listeners on unmount\r\n\t\treturn () => {\r\n\t\t\tif (map) {\r\n\t\t\t\twindow.google.maps.event.clearListeners(map, 'idle')\r\n\t\t\t}\r\n\t\t}\r\n\t}, [map])\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<div ref={mapRef} style={style} className=\"google-map\" />\r\n\t\t\t{children && map && maps && (\r\n\t\t\t\t<MapMarkers map={map} maps={maps}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</MapMarkers>\r\n\t\t\t)}\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nMapComponent.defaultProps = {\r\n\tstyle: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\tleft: 0,\r\n\t\ttop: 0,\r\n\t\tmargin: 0,\r\n\t\tpadding: 0,\r\n\t\tposition: 'absolute',\r\n\t},\r\n\tonGoogleApiLoaded: () => {},\r\n\tonChange: () => {},\r\n\toptions: {},\r\n}\r\n\r\nMapComponent.propTypes = {\r\n\t/**\r\n\t * The Markers on the Map.\r\n\t */\r\n\tchildren: oneOfType([arrayOf(node), node]),\r\n\tstyle: object,\r\n\tdefaultCenter: object.isRequired,\r\n\tdefaultZoom: number.isRequired,\r\n\tonGoogleApiLoaded: func,\r\n\tonChange: func,\r\n\toptions: object,\r\n}\r\n\r\nexport default MapComponent\r\n","import { arrayOf, node, number, object, oneOfType, string } from 'prop-types'\r\nimport React, { forwardRef } from 'react'\r\nimport { useGoogleMaps } from './hooks/useGoogleMaps'\r\nimport MapComponent from './map/map'\r\n\r\nconst GoogleMap = forwardRef(function GoogleMap(\r\n\t{ apiKey, libraries, children, loadingContent, idleContent, errorContent, mapMinHeight, containerProps, ...props },\r\n\tref\r\n) {\r\n\tconst status = useGoogleMaps({ apiKey, libraries })\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{ height: '100%', width: '100%', overflow: 'hidden', position: 'relative', minHeight: mapMinHeight }}\r\n\t\t\tref={ref}\r\n\t\t\t{...containerProps}\r\n\t\t>\r\n\t\t\t{status === 'ready' ? (\r\n\t\t\t\t<MapComponent {...props}>{children}</MapComponent>\r\n\t\t\t) : status === 'loading' ? (\r\n\t\t\t\tloadingContent\r\n\t\t\t) : status === 'idle' ? (\r\n\t\t\t\tidleContent\r\n\t\t\t) : status === 'error' ? (\r\n\t\t\t\terrorContent\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t)\r\n})\r\n\r\nGoogleMap.defaultProps = {\r\n\t...MapComponent.defaultProps,\r\n\tloadingContent: 'Google Maps is loading',\r\n\tidleContent: 'Google Maps is on idle',\r\n\terrorContent: 'Google Maps is on error',\r\n\tmapMinHeight: 'unset',\r\n\tapiKey: '',\r\n\tlibraries: ['places', 'geometry'],\r\n}\r\n\r\nGoogleMap.propTypes = {\r\n\t...MapComponent.propTypes,\r\n\t/**\r\n\t * The Markers on the Map.\r\n\t */\r\n\tchildren: oneOfType([node, arrayOf(node)]),\r\n\t/**\r\n\t * Content to be displayed while the map is loading.\r\n\t */\r\n\tloadingContent: node,\r\n\t/**\r\n\t * Content to be displayed while the map is idle.\r\n\t */\r\n\tidleContent: node,\r\n\t/**\r\n\t * Content to be displayed when there is an error loading the map.\r\n\t */\r\n\terrorContent: node,\r\n\t/**\r\n\t * The minimum height of the map.\r\n\t */\r\n\tmapMinHeight: oneOfType([number, string]),\r\n\t/**\r\n\t * Props to be passed to the container div.\r\n\t */\r\n\tcontainerProps: object,\r\n}\r\n\r\nexport default GoogleMap\r\n"],"names":["useScript","script","src","attributes","callbacks","onLoadCallback","onErrorCallback","elementIdToAppend","useState","status","setStatus","useEffect","scriptToAdd","document","querySelector","createElement","async","setAttribute","Object","entries","length","map","key","value","getElementById","appendChild","body","setAttributeFromEvent","event","type","addEventListener","currentScriptStatus","getAttribute","setStateFromEvent","removeEventListener","useGoogleMaps","apiKey","libraries","join","id","isArraysEqualEps","arrayA","arrayB","eps","i","Math","abs","useMemoCompare","next","compare","previousRef","useRef","previous","current","isEqual","createOverlay","container","pane","position","maps","Overlay","onAdd","getPanes","classList","add","draw","projection","getProjection","point","fromLatLngToDivPixel","style","top","y","left","x","onRemove","parentNode","removeChild","OverlayView","propTypes","element","isRequired","string","shape","lat","number","lng","object","zIndex","children","useMemo","div","overlay","childrenProps","props","prev","setMap","createPortal","defaultProps","node","MapMarkers","markers","Children","child","isValidElement","latLng","undefined","EPS","MapComponent","defaultCenter","defaultZoom","onGoogleApiLoaded","onChange","options","mapRef","prevBoundsRef","setMaps","googleApiCalled","setGoogleApiCalled","onIdle","useCallback","zoom","getZoom","bounds","getBounds","centerLatLng","getCenter","ne","getNorthEast","sw","getSouthWest","boundsArray","center","window","google","Map","ref","clearListeners","addListener","width","height","margin","padding","oneOfType","arrayOf","func","GoogleMap","forwardRef","loadingContent","idleContent","errorContent","mapMinHeight","containerProps","overflow","minHeight"],"mappings":"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"}